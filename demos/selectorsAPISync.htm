<!DOCTYPE html>
<html>
    <head>
        <!--[if lte IE 8]><script src="../html5shim.js"></script><![endif]-->
    </head>
    <body>
        <div class="person"></div>
        <div class="person"></div>

        <div id="house">
            <div class="person"></div>
            <div class="person orange"></div>
        </div>

        <ul id="output"></ul>

        <script type="text/javascript">
            (function () {
                var ul = document.getElementById("output");

                function querySelectorAll(selectors, context) {
                    return context.querySelectorAll ?
                        context.querySelectorAll(selectors) :
                        document.querySelectorAll.call(context, selectors);
                }

                ul.innerHTML += "<li>There should be 4: " + querySelectorAll(".person", document).length + "</li>";
                ul.innerHTML += "<li>There should be 2: " + querySelectorAll(".person", document.getElementById("house")).length + "</li>";
            }());
        </script>
    </body>
</html>
